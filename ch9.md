# 타입 변환과 단축 평가

## 타입 변환이란?
- 자바스크립트의 모든 값은 타입이 있다. 값의 타입은 개발자의의도에 따라 다른 타입으로 변환할 수 있다. 
- 개발자가 의도적으로 값의 타입을 변환하는 것을 **명시적 타입 변환** 또는 **타입캐스팅** 이라한다. 
- 개발자의 의도와 상관없이 자바스크립트 엔진에 의하여 암묵적으로 타입이 자동변환되는것을 **암묵적 타입 변환** 또는 **타입강제변환**이라고한다. 

- 명시적 타입변환은 타입을 변경하겠다는 개발자의 의지가 코드에 명백히 들어난다. 
```
var x = 10l 
var str = x.toString()
```

- 암묵적 타입변환은 자바스크립트 엔진에 의하여 암묵적으로 변환되기때문에 자신이 작성한 코드에서 어떻게 타입이 변환이 발생하는지 예측가능해야한다. 

## 암묵적 타입변환 
- 자바스크립트 엔진은 표현식을 평가할 때 개발자의 의도와는 상관없이 코드의 문맥을 고려해 암묵적으로 데이터 타입을 강제 변환 할 때가 있다. 
```
'10' + 2 // '102'
5 * '10' // 50
if (1) {} // true
```

### 문자열 타입으로 변환 
- +연산자는 피연산자중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작한다. 
- 자바스크립트 엔진은 문자열 타입이 아닌 값을 문자열 타입으로 암묵적으로 타입변환을 수행할 때 다음과 같이 동작한다. 
```
0 + '' = '0'
-0 + '' = '0'
1 + '' = '1'
-1 + '' = "-1"

true + '' = 'true'

undefined + '' = 'undefined'

(Symbol())+'' // typeError

```
### 불리언 타입으로 변환
- 불리언 타입이 아닌값을 타입으로 변환하는 방법은 다음과 같다. 
    - Boolean생성자 함수를  new생성자 없이 호출하는 방법
    - 부정 논리 연산자를 두번사용하는 방법 
    ```
    Boolean('x') // true
    Boolean('') // false
    Boolean('false') // true
    Boolean(0) // false
    Boolean(1) // true
    Boolean(NaN) // false
    Boolean(null) // false

    !!'x' // true
    !!'' // false
    !!'false' // true
    !!0 // false
    !!1 // true
    !!NaN // false
    !!Infinity // true
    ```

## 단축평가 
### 논리연산자를 사용한 단축평가 
- 논리곱(&&) 연산자는 두개의 피연산자가 모두 true로 평가될때  true를 반환한다. 논리합(||)연산자도 동일하게 동작한다. 
- 논리합 연산자는 두개의 피연산자중 하나만 true로 평가되어도 true를 반환한다. 
- 논리연산의 결과를 결정하는 피연산자를 타입변환하지않고 그대로 반환한다. 이를 단축평가라고한다. 
- 단축평가는 표현식을 평가하는 도중에 평가결과가 확정된 경우 나머지 평가 과정을 생략하는 것을 말한다. 
```
'cat' || 'dog' // cat
false || 'cat' // cat
'cat' || false // dog

'cat' && 'dog' // dog
false && 'cat' // false
'cat' && false // false

```

- 객체를 가리키기를 기대하는 변수가 null또는 undefined가 아닌지 확인하고 프로퍼티를 참조할때 단축평가가 유용하다. 

### 옵셔널 체이닝 연산자 
- 옵셔널 체이닝 연산자 ?/는 좌항의 피연산자가 null또는 undefined의 경우 undefined를 반환하고, 그렇지 않으면 우항의 프로퍼티 참조를 이어간다. 

### null병합 연산자 
- ??는 좌항의 피연산자가 null또는 undefined인 경우 우항의 피연산자를 반환하고, 그렇지않으면 좌항의 피연산자를 반환한다. 
- null 병합 연산자 ??는 변수에 기본값을 설정할 때 유용하다. 



